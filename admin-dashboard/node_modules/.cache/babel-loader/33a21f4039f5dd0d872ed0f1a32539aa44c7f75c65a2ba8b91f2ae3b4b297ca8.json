{"ast":null,"code":"import { useContext, useCallback, useMemo, useEffect, useRef, useState } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace, isString, isObject } from './utils.js';\nconst notReadyT = (k, optsOrDefaultValue) => {\n  if (isString(optsOrDefaultValue)) return optsOrDefaultValue;\n  if (isObject(optsOrDefaultValue) && isString(optsOrDefaultValue.defaultValue)) return optsOrDefaultValue.defaultValue;\n  return Array.isArray(k) ? k[k.length - 1] : k;\n};\nconst notReadySnapshot = {\n  t: notReadyT,\n  ready: false\n};\nconst dummySubscribe = () => () => {};\nexport const useTranslation = (ns, props = {}) => {\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce(i18n, 'NO_I18NEXT_INSTANCE', 'useTranslation: You will need to pass in an i18next instance by using initReactI18next');\n  }\n  const i18nOptions = useMemo(() => ({\n    ...getDefaults(),\n    ...i18n?.options?.react,\n    ...props\n  }), [i18n, props]);\n  const {\n    useSuspense,\n    keyPrefix\n  } = i18nOptions;\n  const namespaces = useMemo(() => {\n    const nsOrContext = ns || defaultNSFromContext || i18n?.options?.defaultNS;\n    return isString(nsOrContext) ? [nsOrContext] : nsOrContext || ['translation'];\n  }, [ns, defaultNSFromContext, i18n]);\n  i18n?.reportNamespaces?.addUsedNamespaces?.(namespaces);\n  const subscribe = useCallback(callback => {\n    if (!i18n) return dummySubscribe;\n    const {\n      bindI18n,\n      bindI18nStore\n    } = i18nOptions;\n    if (bindI18n) i18n.on(bindI18n, callback);\n    if (bindI18nStore) i18n.store.on(bindI18nStore, callback);\n    return () => {\n      if (bindI18n) bindI18n.split(' ').forEach(e => i18n.off(e, callback));\n      if (bindI18nStore) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, callback));\n    };\n  }, [i18n, i18nOptions]);\n  const snapshotRef = useRef();\n  const getSnapshot = useCallback(() => {\n    if (!i18n) {\n      return notReadySnapshot;\n    }\n    const calculatedReady = !!(i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => hasLoadedNamespace(n, i18n, i18nOptions));\n    const calculatedT = i18n.getFixedT(props.lng || i18n.language, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n    const lastSnapshot = snapshotRef.current;\n    if (lastSnapshot && lastSnapshot.ready === calculatedReady && lastSnapshot.lng === (props.lng || i18n.language) && lastSnapshot.keyPrefix === keyPrefix) {\n      return lastSnapshot;\n    }\n    const newSnapshot = {\n      t: calculatedT,\n      ready: calculatedReady,\n      lng: props.lng || i18n.language,\n      keyPrefix\n    };\n    snapshotRef.current = newSnapshot;\n    return newSnapshot;\n  }, [i18n, namespaces, keyPrefix, i18nOptions, props.lng]);\n  const [loadCount, setLoadCount] = useState(0);\n  const {\n    t,\n    ready\n  } = useSyncExternalStore(subscribe, getSnapshot, getSnapshot);\n  useEffect(() => {\n    if (i18n && !ready && !useSuspense) {\n      const onLoaded = () => setLoadCount(c => c + 1);\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, onLoaded);\n      } else {\n        loadNamespaces(i18n, namespaces, onLoaded);\n      }\n    }\n  }, [i18n, props.lng, namespaces, ready, useSuspense, loadCount]);\n  const finalI18n = i18n || {};\n  const ret = useMemo(() => {\n    const arr = [t, finalI18n, ready];\n    arr.t = t;\n    arr.i18n = finalI18n;\n    arr.ready = ready;\n    return arr;\n  }, [t, finalI18n, ready]);\n  if (i18n && useSuspense && !ready) {\n    throw new Promise(resolve => {\n      const onLoaded = () => resolve();\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, onLoaded);\n      } else {\n        loadNamespaces(i18n, namespaces, onLoaded);\n      }\n    });\n  }\n  return ret;\n};","map":{"version":3,"names":["useContext","useCallback","useMemo","useEffect","useRef","useState","useSyncExternalStore","getI18n","getDefaults","ReportNamespaces","I18nContext","warnOnce","loadNamespaces","loadLanguages","hasLoadedNamespace","isString","isObject","notReadyT","k","optsOrDefaultValue","defaultValue","Array","isArray","length","notReadySnapshot","t","ready","dummySubscribe","useTranslation","ns","props","i18n","i18nFromProps","i18nFromContext","defaultNS","defaultNSFromContext","reportNamespaces","i18nOptions","options","react","useSuspense","keyPrefix","namespaces","nsOrContext","addUsedNamespaces","subscribe","callback","bindI18n","bindI18nStore","on","store","split","forEach","e","off","snapshotRef","getSnapshot","calculatedReady","isInitialized","initializedStoreOnce","every","n","calculatedT","getFixedT","lng","language","nsMode","lastSnapshot","current","newSnapshot","loadCount","setLoadCount","onLoaded","c","finalI18n","ret","arr","Promise","resolve"],"sources":["C:/Users/Home/Documents/GitHub/mall/admin-dashboard/node_modules/react-i18next/dist/es/useTranslation.js"],"sourcesContent":["import { useContext, useCallback, useMemo, useEffect, useRef, useState } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace, isString, isObject } from './utils.js';\nconst notReadyT = (k, optsOrDefaultValue) => {\n  if (isString(optsOrDefaultValue)) return optsOrDefaultValue;\n  if (isObject(optsOrDefaultValue) && isString(optsOrDefaultValue.defaultValue)) return optsOrDefaultValue.defaultValue;\n  return Array.isArray(k) ? k[k.length - 1] : k;\n};\nconst notReadySnapshot = {\n  t: notReadyT,\n  ready: false\n};\nconst dummySubscribe = () => () => {};\nexport const useTranslation = (ns, props = {}) => {\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce(i18n, 'NO_I18NEXT_INSTANCE', 'useTranslation: You will need to pass in an i18next instance by using initReactI18next');\n  }\n  const i18nOptions = useMemo(() => ({\n    ...getDefaults(),\n    ...i18n?.options?.react,\n    ...props\n  }), [i18n, props]);\n  const {\n    useSuspense,\n    keyPrefix\n  } = i18nOptions;\n  const namespaces = useMemo(() => {\n    const nsOrContext = ns || defaultNSFromContext || i18n?.options?.defaultNS;\n    return isString(nsOrContext) ? [nsOrContext] : nsOrContext || ['translation'];\n  }, [ns, defaultNSFromContext, i18n]);\n  i18n?.reportNamespaces?.addUsedNamespaces?.(namespaces);\n  const subscribe = useCallback(callback => {\n    if (!i18n) return dummySubscribe;\n    const {\n      bindI18n,\n      bindI18nStore\n    } = i18nOptions;\n    if (bindI18n) i18n.on(bindI18n, callback);\n    if (bindI18nStore) i18n.store.on(bindI18nStore, callback);\n    return () => {\n      if (bindI18n) bindI18n.split(' ').forEach(e => i18n.off(e, callback));\n      if (bindI18nStore) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, callback));\n    };\n  }, [i18n, i18nOptions]);\n  const snapshotRef = useRef();\n  const getSnapshot = useCallback(() => {\n    if (!i18n) {\n      return notReadySnapshot;\n    }\n    const calculatedReady = !!(i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => hasLoadedNamespace(n, i18n, i18nOptions));\n    const calculatedT = i18n.getFixedT(props.lng || i18n.language, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n    const lastSnapshot = snapshotRef.current;\n    if (lastSnapshot && lastSnapshot.ready === calculatedReady && lastSnapshot.lng === (props.lng || i18n.language) && lastSnapshot.keyPrefix === keyPrefix) {\n      return lastSnapshot;\n    }\n    const newSnapshot = {\n      t: calculatedT,\n      ready: calculatedReady,\n      lng: props.lng || i18n.language,\n      keyPrefix\n    };\n    snapshotRef.current = newSnapshot;\n    return newSnapshot;\n  }, [i18n, namespaces, keyPrefix, i18nOptions, props.lng]);\n  const [loadCount, setLoadCount] = useState(0);\n  const {\n    t,\n    ready\n  } = useSyncExternalStore(subscribe, getSnapshot, getSnapshot);\n  useEffect(() => {\n    if (i18n && !ready && !useSuspense) {\n      const onLoaded = () => setLoadCount(c => c + 1);\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, onLoaded);\n      } else {\n        loadNamespaces(i18n, namespaces, onLoaded);\n      }\n    }\n  }, [i18n, props.lng, namespaces, ready, useSuspense, loadCount]);\n  const finalI18n = i18n || {};\n  const ret = useMemo(() => {\n    const arr = [t, finalI18n, ready];\n    arr.t = t;\n    arr.i18n = finalI18n;\n    arr.ready = ready;\n    return arr;\n  }, [t, finalI18n, ready]);\n  if (i18n && useSuspense && !ready) {\n    throw new Promise(resolve => {\n      const onLoaded = () => resolve();\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, onLoaded);\n      } else {\n        loadNamespaces(i18n, namespaces, onLoaded);\n      }\n    });\n  }\n  return ret;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}